function zGeckoUtils(){}var Config=function(){function e(){}return e.configMap={LB_MOUSEOVER_WIDTH:300,LB_MOUSEOVER_HEIGHT:250,PARALLEL_TAG_GENERATOR_LIMIT:25,VASTURL_PATH:"asw/fns.vast",ADSERVER_URL:"z2.zedo.com/",ADSERVER_SECURE_URL:"saxp.zedo.com/",ADREQ_PATH:"asw/fmg.json",EVENTID_JSON:"localhost:8080/out/events.json",GECKO_FILEPATH:"c14.zedo.com/gecko/core/v6.19/fmgt.min.js",GECKO_SECURE_FILEPATH:"ss3.zedo.com/gecko/core/v6.19/fmgt.min.js",HEADERBIDDER_REQUEST_URL:"z2.zedo.com/asw/hb.json?h=",HEADERBIDDER_SECURE_REQUEST_URL:"saxp.zedo.com/asw/hb.json?h=",DOMAIN:"zedo",LOG_LEVEL:"fatal",DIM_SUFFIX:"px",LOG_PASS_PHRASE:"zlogger",DEFAULT_BANDWIDTH:96,LOG_SERVER_LEVEL:"error",LOG_SERVER_THRESHOLD:.5,LOG_SERVER_URL_SECURE:"https://tt3.zedo.com/ads2/p/l?a=2694918;c=2500000815;x=3840;n=2500;e=i;i=0;s=11;met=[MET];et=[ET];z=[CACHEBUSTING]",LOG_SERVER_URL_NONSECURE:"http://m8.zedo.com/log/p.gif?a=2694917;c=2500000814;x=3840;n=2500;e=i;i=0;s=11;met=[MET];et=[ET];z=[CACHEBUSTING]",IMAGE_PATH_10KB:"simg.zedo.com/speed-test/10k.gif",SECURE_IMAGE_PATH_10KB:"ss3.zedo.com/utils/zplayer/wrapper/v7.2/HTML/app/assets/images/10k.gif",BROADBAND_DETECTION_TIMEOUT:5e3,VIEWABILITY_POLLING_INTERVAL:500,VIEWABILITY_DEBUG:!1,ID_PREFIX:"zdt_",VIDEO_URL:"localhost:8080:8080/out/video.js",COOKIESETTINGS_PAGE_NONSECURE_URL:"http://c14.zedo.com/gecko/CookieSettingDetector.html",COOKIESETTINGS_PAGE_SECURE_URL:"https://ss3.zedo.com/gecko/CookieSettingDetector.html",VIDEO_PLAYER_URL:"http://c14.zedo.com/utils/zplayer/wrapper/v9.0/wrapper.js",VIDEO_PLAYER_SECURE_URL:"https://ss3.zedo.com/utils/zplayer/wrapper/v9.0/wrapper.js",VIDEO_LOADER_INTERVAL:10,SWIPEUP_CLOSE_BTN:"http://c14.zedo.com/jsc/images/close-button-round-overlap.png",SWIPEUP_UP_ARROW:"http://c14.zedo.com/jsc/images/up-double-arrows.png",SWIPEUP_DOWN_ARROW:"http://c14.zedo.com/jsc/images/down-double-arrows.png",SWIPEUP_LOADING_LINE:"http://c14.zedo.com/jsc/images/loading-line-blue.gif",TAG_LEVEL_TRACKERPATH_NONSECURE:"http://m1.zedo.com/log/p.gif?n=",TAG_LEVEL_TRACKERPATH_SECURE:"https://tt3.zedo.com/log/p.gif?n=",AD_LEVEL_TRACKERPATH_NONSECURE:"http://l5.zedo.com/log/p.gif?6=",AD_LEVEL_TRACKERPATH_SECURE:"https://tt3.zedo.com/log/p.gif?6=",DEBUG_TOKEN_VALIDITY:7,GRACEFULBACKTRACK_NUMBEROFCHECKS:100,GRACEFULBACKTRACK_STARTINGTIME:50,POLITESWIPEUP_CLOSEBTN_WIDTH:32,POLITESWIPEUP_CLOSEBTN_HEIGHT:32,POLITESWIPEUP_MAXWIDTH:450,POLITESWIPEUP_MINWIDTH:250,POLYFILL_SECUREFILEPATH:"ss3.zedo.com/gecko/core/lib/promise-7.0.4.min.js",POLYFILL_FILEPATH:"c14.zedo.com/gecko/core/lib/promise-7.0.4.min.js",NETWORKIDS_SECURE_FILEPATH:"ss3.zedo.com/gecko/tag/networkIds.js",NETWORKIDS_FILEPATH:"c14.zedo.com/gecko/tag/networkIds.js",AMP_PROTOCOL:"https://",GEO_COOKIE_URL:"http://xp1.zedo.com/asw/cr.js?cns=FFgb&jvs=ZGeoDetails&z=",GEO_COOKIE_SECURE_URL:"https://saxp.zedo.com/asw/cr.js?cns=FFgb&jvs=ZGeoDetails&z=",INBANNER_CLOSE_BUTTON_URL:"http://c14.zedo.com/jsc/images/zplayer/inarticle-Close-Btn.png",INBANNER_MUTE_BUTTON_URL:"http://c14.zedo.com/jsc/images/zplayer/inarticle-Mute-Btn.png",INBANNER_UNMUTE_BUTTON_URL:"http://c14.zedo.com/jsc/images/zplayer/inarticle-Sound-Btn.png",INBANNER_FULLSCREEN_BUTTON_URL:"http://c14.zedo.com/jsc/images/zplayer/inarticle-Full-Screen-Btn.png",INARTICLE_ROLLOVER_SOUND_BUTTON_URL:"http://c14.zedo.com/jsc/images/zplayer/inarticle-Sound-Text.png",INARTICLE_CLICK_TO_FULLSCREEN_BUTTON_URL:"http://c14.zedo.com/jsc/images/zplayer/inarticle-Fullscreen-Text.png",INARTICLE_CLICK_TO_EXIT_FULLSCREEN_TEXT_BUTTON_URL:"http://c14.zedo.com/jsc/images/zplayer/inarticle-Exit-Btn.png",INBANNER_SECURE_CLOSE_BUTTON_URL:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-Close-Btn.png",INBANNER_SECURE_MUTE_BUTTON_URL:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-Mute-Btn.png",INBANNER_SECURE_UNMUTE_BUTTON_URL:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-Sound-Btn.png",INBANNER_SECURE_FULLSCREEN_BUTTON_URL:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-Full-Screen-Btn.png",INARTICLE_CLOSE_BTN_LB:"http://c14.zedo.com/jsc/images/zplayer/closeIcon-LB.png",INARTICLE_FULLSCRN_BTN_LB:"http://c14.zedo.com/jsc/images/zplayer/fullScreenIcon-LB.png",INARTICLE_SECURE_FULLSCRN_BTN_LB:"https://ss3.zedo.com/jsc/images/zplayer/fullScreenIcon-LB.png",INARTICLE_SECURE_CLOSE_BTN_LB:"https://ss3.zedo.com/jsc/images/zplayer/closeIcon-LB.png",INARTICLE_FULLSCRN_CLOSE_BTN_LB:"http://c14.zedo.com/jsc/images/zplayer/inarticle-Close-Btn-fullscreen.png",INARTICLE_adlabel_BTN:"http://c14.zedo.com/jsc/images/zplayer/inarticle-AdInfo.png",INARTICLE_SECURE_adlabel_BTN:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-AdInfo.png",INARTICLE_SECURE_FULLSCRN_CLOSE_BTN_LB:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-Close-Btn-fullscreen.png",INARTICLE_REPLAY_BTN:"http://c14.zedo.com/jsc/images/zplayer/inarticle-Replay-Btn.png",INARTICLE_SECURE_REPLAY_BTN:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-Replay-Btn.png",BLANKMP4URL_SECURE:"https://ss3.zedo.com/jsc/video/zplayer/blank.mp4",BLANKMP4URL:"http://c14.zedo.com/jsc/video/zplayer/blank.mp4",INARTICLE_SECURE_PLAY_BTN:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-Play-Btn.png",INARTICLE_PLAY_BTN:"http://c14.zedo.com/jsc/images/zplayer/inarticle-Play-Btn.png",INARTICLE_SECURE_MOBILE_LB_BG:"https://ss3.zedo.com/jsc/images/dropdown/drowdownBg.png",INARTICLE_MOBILE_LB_BG:"http://c14.zedo.com/jsc/images/dropdown/drowdownBg.png",INARTICLE_SECURE_ROLLOVER_SOUND_BUTTON_URL:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-Sound-Text.png",INARTICLE_SECURE_CLICK_TO_FULLSCREEN_BUTTON_URL:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-Fullscreen-Text.png",INARTICLE_SECURE_CLICK_TO_EXIT_FULLSCREEN_TEXT_BUTTON_URL:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-Exit-Btn.png",INARTICLE_CLICK_TO_WATCH_TEXT_BUTTON_URL:"http://c14.zedo.com/jsc/images/zplayer/inarticle-Watch-Text-Btn-rbg.png",INARTICLE_SECURE_CLICK_TO_WATCH_TEXT_BUTTON_URL:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-Watch-Text-Btn-rbg.png",CURTAINRAISER_CLOSE_BTN:"http://c14.zedo.com/jsc/images/CR-closeBtn.png",CURTAINRAISER_SECURE_CLOSE_BTN:"https://ss3.zedo.com/jsc/images/CR-closeBtn.png",SECURE_PAUSE_ICON:"https://ss3.zedo.com/jsc/images/zplayer/inarticle-Pause-Btn.png",PAUSE_ICON:"http://c14.zedo.com/jsc/images/zplayer/inarticle-Pause-Btn.png",INVIEW_CLOSE_BUTTON:"http://c14.zedo.com/jsc/images/inview-closeBtn.png",INVIEW_SECURE_CLOSE_BUTTON:"https://ss3.zedo.com/jsc/images/inview-closeBtn.png",INVIEW_SLIDER_TITLE_IMG:"http://c14.zedo.com/jsc/images/inview-sliderTitle.png",INVIEW_SECURE_SLIDER_TITLE_IMG:"https://ss3.zedo.com/jsc/images/inview-sliderTitle.png",INVIEW_ZINC_FEEDBACK_ICON:"http://c14.zedo.com/jsc/images/inview-zincFeedbackIcon.png",INVIEW_SECURE_ZINC_FEEDBACK_ICON:"https://ss3.zedo.com/jsc/images/inview-zincFeedbackIcon.png",INVIEW_SLIDER_BG:"http://c14.zedo.com/jsc/images/inview-sliderBg.png",INVIEW_SECURE_SLIDER_BG:"https://ss3.zedo.com/jsc/images/inview-sliderBg.png",INVIEW_INFO_URL:"http://www.zincx.com/",INVIEW_FEEDBACK_URL:"http://www.zincx.com/zincSliderFeedback/index.html",WNE_CLOSE_BTN:"http://c14.zedo.com/jsc/images/closeBtn-WE.png",WNE_SECURE_CLOSE_BTN:"https://ss3.zedo.com/jsc/images/closeBtn-WE.png",IS_BETA:"false",VPAID_ADREQ_PATH:"asw/fmv.json",VPAIDSBR_ADREQ_PATH:"asw/fms.json"},e.getProperty=function(t){return e.configMap[t]},e}(),ZHBData,ZGeoDetails,networkIdsLoaded=!0,enableHeaderBiddingRequest=!1;zGeckoUtils.XHRURLHandler={},zGeckoUtils.XHRURLHandler.xhr=function(){var e;if(e=new window.XMLHttpRequest,"withCredentials"in e)return e},zGeckoUtils.XHRURLHandler.isSupported=function(){return!!zGeckoUtils.XHRURLHandler.xhr()},zGeckoUtils.XHRURLHandler.getWithoutCredentials=function(e,t){var o;o=zGeckoUtils.XHRURLHandler.xhr(),o.open("GET",e,!0),o.send(),o.onError=function(){zGeckoUtils.XHRURLHandler.onError(e,t)},o.onreadystatechange=function(){4===o.readyState&&(o.responseText?t(null,o.responseText,e,!1):t("InValid URL",null,e,!1))}},zGeckoUtils.XHRURLHandler.onError=function(e,t){t("Error in getting url",null,null,!1)},zGeckoUtils.XHRURLHandler.get=function(e,t){var o;"https:"===zGeckoUtils.getProtocol(window)&&0===e.indexOf("http://")&&t("XHRURLHandler: Cannot go from HTTPS to HTTP.",null,null,!1);try{o=zGeckoUtils.XHRURLHandler.xhr(),o.open("GET",e,!0),o.withCredentials=!0,o.send(),o.onError=function(){zGeckoUtils.XHRURLHandler.onError(e,t)},o.onreadystatechange=function(){if(4===o.readyState){if(!o.responseText)return zGeckoUtils.XHRURLHandler.getWithoutCredentials(e,t);t(null,o.responseText,e,!1)}}}catch(n){t("Error in getting url",null,null,!1)}},zGeckoUtils.FlashURLHandler={},zGeckoUtils.FlashURLHandler.xdr=function(){var e;return window.XDomainRequest&&(e=new XDomainRequest),e},zGeckoUtils.FlashURLHandler.isSupported=function(){return!!zGeckoUtils.FlashURLHandler.xdr()},zGeckoUtils.FlashURLHandler.get=function(e,t){var o,n;(n="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?n.async=!1:t("FlashURLHandler: Microsoft.XMLDOM format not supported",null,null,!1);try{o=zGeckoUtils.FlashURLHandler.xdr(),o.open("GET",e),o.send(),o.onerror=function(){zGeckoUtils.XHRURLHandler.onError(e,t)},o.onprogress=function(){},o.ontimeout=function(){},o.onload=function(){t(null,o.responseText,e,!1)}}catch(i){t("Error in getting url",null,null,!1)}},zGeckoUtils.loadJsFile=function(e,t,o,n,i){var s=!1,a=e.createElement("script");a.type="text/javascript",a.asynch=n,a.src=o;var r=e.head||e.getElementsByTagName("head")[0];a.addEventListener("load",function(){var o=this.readyState;s||o&&"complete"!=o&&"loaded"!=o||(s=!0,i(e,t))}),r.appendChild(a)},zGeckoUtils.getValidString=function(e){var t;if("undefined"!=typeof e&&null!==e){if("string"==typeof e&&""!==e&&""!==e.trim())return t=e;if("number"==typeof e)return t=e+"";throw"Empty or invalid input value"}throw"invalid input value"},zGeckoUtils.getProtocol=function(e){return e.location&&e.location.protocol&&["http:","https:"].indexOf(e.location.protocol)>-1?e.location.protocol:e!=e.parent?zGeckoUtils.getProtocol(e.parent):"https:"};var ZGTag=function(e,t,o,n,i,s,a){function r(e,t){try{for(var o=t.getPlacementCommandQueue(),n=0;n<o.length;n++)e[o[n].name].apply(e,o[n].param)}catch(i){console.error(i)}}function c(e){var t=L(window),o=e,n=e,i=0;if(!C(e))return{topWindow:p,lastParent:u};try{for(;C(o)&&i<t;)try{n=o,o=o.parent,i++}catch(s){}return p=o.top,u=n,{topWindow:o,lastParent:n}}catch(s){for(;C(o)&&i<t;)try{n=o,o=o.parent,i++}catch(s){}return p=o,u=n,{topWindow:o,lastParent:n}}}function l(e){return"undefined"==typeof e||null===e}this.eventDefinition_Ids='{"PREQ":"58", "UONPAGE5":"59", "UONPAGE10":"60", "UONPAGE15":"61", "UONPAGE20":"62", "UONPAGE25":"63","UONPAGE30": "64", "UONPAGE35": "65", "UONPAGE40": "66", "UONPAGE45": "67", "UONPAGE50": "68", "PB": "1", "UONPAGE55": "69", "UONPAGE60": "70", "CHANDEBUG": "71", "LBI": "48", "UONPAGE70": "73", "ADREQ": "18", "CVIEW": "95", "ADOPP": "29", "UONPAGE80": "74", "UONPAGE90": "75", "UONPAGE100": "76", "UONPAGE110": "77", "UONPAGE120": "78", "OPPORFILL": "79", "ADRES": "40",  "Ctimeout": "72", "MISSOPPER": "47", "VNMES": "49", "BLOCK": "50", "ADOPP2": "90", "NODMD": "57", "NODMD2": "91", "OPPOR2FILL": "89", "PGEXIT": "92", "TAGCALL": "28", "1STTOUCH": "84", "1STSCROLL": "46", "ANSATTEMPT": "93", "CORRANS": "94", "BV": "41", "BC": "42", "MOPP": "99", "MMOPP": "100", "HB_REQ": "114", "HB_BID": "115", "HB_WIN": "116", "HB_TIMEOUT": "117", "HB_NOBID": "119"}',this.eventNetwork_Ids="{}",this.milestones={milestones:[{name:"TAGCALL",key:28},{name:"1STSCROLL",key:46},{name:"ADOPP",key:29},{name:"PREQ",key:58},{name:"LBI",key:48}]},this.commandQueue=[],this.placementMap={};var d,h,m,p=window,u=window;this.placementReadyQueue=[],this.cookieName="loadingGecko",this.geckoLoaded=!1,this.isAmp=!1,this.isGeckoLoggerOn=!1,this.placementReloadCount=Math.pow(10,1e3),this.reloadedCount=0;try{this.superId=zGeckoUtils.getValidString(e),this.network=zGeckoUtils.getValidString(t)}catch(E){console.error("ZGTag ::"+E)}this.tmy=o,this.geo=n,this.charset=i,this.userDebugToken=s,this.errorCallback=a,this.protocol=zGeckoUtils.getProtocol(window)+"//",this.shouldDisableCookieSync=!1,this.blockcallsforEU=!1,this.zHeaderbidsPlacementArray=[],this.hbRequestJSON={network:"",placements:[]},this.breakOutOfIframeFlag=!0,this.breakoutOfIframe=function(e){this.breakOutOfIframeFlag=e};var R=function(e,t){this.id=e,this.placementCommandQueue=[],this.hbRequestJSON=t,this.getPlacementCommandQueue=function(){return this.placementCommandQueue},this.withKeyword=function(e){return this.placementCommandQueue.push({name:"withKeyword",param:[e]}),this},this.withCustomValue=function(e){return this.placementCommandQueue.push({name:"withCustomValue",param:[e]}),this},this.withMultipleCustomeValues=function(e){return this.placementCommandQueue.push({name:"withMultipleCustomeValues",param:[e]}),this},this.pubclickTracker=function(e){return this.placementCommandQueue.push({name:"withThirdPartyClickURL",param:[e]}),this},this.withThirdPartyClickURL=function(e){return this.placementCommandQueue.push({name:"withThirdPartyClickURL",param:[e]}),this},this.withThirdPartyImprURL=function(e){return this.placementCommandQueue.push({name:"withThirdPartyImprURL",param:[e]}),this},this.pubImpTracker=function(e){return this.placementCommandQueue.push({name:"withThirdPartyImprURL",param:[e]}),this},this.includeRenderer=function(e,t){this.placementCommandQueue.push({name:"includeRenderer",param:[e,t]})},this.excludeRenderer=function(e){return this.placementCommandQueue.push({name:"excludeRenderer",param:[e]}),this},this.withAdditionalDimension=function(e,t,o){return this.placementCommandQueue.push({name:"withAdditionalDimension",param:[e,t,o]}),this},this.withLegacyParallelRequest=function(e){return this.placementCommandQueue.push({name:"withIsLegacyParallelRequest",param:[e]}),this},this.withImpressionCallback=function(e){return this.placementCommandQueue.push({name:"withImpressionCallback",param:[e]}),this},this.withImpressionTimeout=function(e){return this.placementCommandQueue.push({name:"withImpressionTimeout",param:[e]}),this},this.withRendererCallback=function(e){return this.placementCommandQueue.push({name:"withRendererCallback",param:[e]}),this},this.withNoDemandCallback=function(e){return this.placementCommandQueue.push({name:"withNoDemandCallback",param:[e]}),this},this.withAdCompleteCallback=function(e){return this.placementCommandQueue.push({name:"withAdCompleteCallback",param:[e]}),this},this.withAdReadyCallback=function(e){return this.placementCommandQueue.push({name:"withAdReadyCallback",param:[e]}),this},this.withMaxGuranteed=function(e){return this.placementCommandQueue.push({name:"withMaxGuranteed",param:[e]}),this},this.withMaxNonGuranteed=function(e){return this.placementCommandQueue.push({name:"withMaxNonGuranteed",param:[e]}),this},this.withReloadCount=function(e){return this.placementCommandQueue.push({name:"withReloadCount",param:[e]}),this},this.withReloadTimer=function(e){return this.placementCommandQueue.push({name:"withReloadTimer",param:[e]}),this},this.withPlatform=function(e){return this.placementCommandQueue.push({name:"withPlatform",param:[e]}),this},this.withCreativeSizes=function(e){for(var t={},o=[],n=0,i=this.hbRequestJSON.placements.length;n<i;n++)if(this.hbRequestJSON.placements[n].id==this.id){t=this.hbRequestJSON.placements[n];break}if("object"==typeof e&&e.length&&e.length>0)for(var n=0,i=e.length;n<i;n++){var s=e[n];s.hasOwnProperty("width")&&s.hasOwnProperty("height")&&o.push(s)}return o.length>0&&(t.creativeSizes=o),this.placementCommandQueue.push({name:"withCreativeSizes",param:[t.creativeSizes]}),this},this.excludeGeo=function(e){return this.placementCommandQueue.push({name:"excludeGeo",param:[e]}),this},this.stopReloadCallback=function(e){return this.placementCommandQueue.push({name:"stopReloadCallback",param:[e]}),this},this.done=function(){this.placementCommandQueue.push({name:"done",param:[]})}};this.enableHBRequest=function(){enableHeaderBiddingRequest=!0,console.log("HB request for Gecko enabled ")},this.addPlacement=function(e,t,o,n,i,s){var a,r=window;try{if(a=zGeckoUtils.getValidString(e),d=zGeckoUtils.getValidString(t),h=zGeckoUtils.getValidString(o),m=zGeckoUtils.getValidString(n),this.breakOutOfIframeFlag&&C(r)&&(r=c(r).topWindow),"undefined"==typeof r["gecko_"+e]||!r["gecko_"+e]){r["gecko_"+e]=a,this.commandQueue.push({id:a,name:"addPlacement",param:[a,d,h,m,i,s]});var l={id:a,channel:d,creativeSizes:[{width:i.toString(),height:s.toString()}]};this.setHeaderBidRequestConfig(this.network,l);var p=new R(a,this.hbRequestJSON);return this.placementMap[e]=p,p}console.error("Detected attempt to add a duplicate placement. incorrect tag implementation. skipping duplicate.")}catch(u){console.error("addPlacement ::"+u)}},this.setGeckoLogger=function(){this.commandQueue.push({name:"setGeckoLogger",param:[]}),this.isGeckoLoggerOn=!0},this.setHeaderBidRequestConfig=function(e,t){e&&(l(t)||this.zHeaderbidsPlacementArray.push(t),this.hbRequestJSON.network=e,this.hbRequestJSON.placements=this.zHeaderbidsPlacementArray)},this.getHeaderBidRequestConfig=function(){return!l(this.hbRequestJSON)&&""!==this.hbRequestJSON.network&&this.hbRequestJSON},this.isCountryEU=function(e){var t=!1,o=[9,16,18,72,39,43,47,51,55,41,64,74,76,81,99,97,98,112,123,136,139,142,152,151,49,148,171];return e&&o.indexOf(e)>-1&&(t=!0),t},this.fireHBFailTracker=function(){var e=1e6*Number(this.network)+Number(d),t=256*m,o="https://"==this.protocol?"https://tt3.zedo.com":"http://m1.zedo.com",n=o+"/log/p.gif?n="+this.network+";c="+e+";s="+h+";x="+t+";eid=152;e=e;z="+Math.random(),i=document.createElement("img");i.src=n},this.disableCookieSync=function(){this.shouldDisableCookieSync=!0},this.getCookieSyncValue=function(){return this.shouldDisableCookieSync},this.disableEUCountries=function(e){return e&&this.isCountryEU(e)&&(this.blockcallsforEU=!0),this.blockcallsforEU},this.appendCookieSyncScript=function(){try{if("https://"!==this.protocol)var e=window,t=e.contentDocument||e.document,o="zzflag_CookieSync",n=t,i="http://d1.zedo.com/rs/us/fcs.js";else var e=window,t=e.contentDocument||e.document,o="zzflag_CookieSync",n=t,i="https://tt3.zedo.com/rs/us/fcs_secure.js";this.addCookieSyncScript(o,n,i)}catch(s){console.warn("error in disableCookieSync "+s)}},this.addCookieSyncScript=function(e,t,o){try{var n=document.createElement("iframe");n.id=e,n.src="about:blank",n.setAttribute("allowfullscreen",!0),n.setAttribute("seamless",!0),n.setAttribute("frameborder",0),n.setAttribute("scrolling","no"),n.width="0px",n.height="0px",n.style.display="none",t.body.appendChild(n);var i="<script src="+o+" ></script>",s="<!DOCTYPE html><head><body>"+i+"</body></html>",a=n.contentDocument||n.contentWindow.document;a.open("text/html","replace"),a.write(s),a.close()}catch(r){console.warn(" error in cookie sync "+r)}},this.setAMP=function(){return this.protocol=Config.getProperty("AMP_PROTOCOL"),this.commandQueue.push({name:"setAmp"}),this},this.loadAds=function(){this.commandQueue.push({name:"loadAds"}),this.breakOutOfIframe()},this.loadCookieSync=function(){var e=this.getCookieSyncValue();e||this.appendCookieSyncScript()},this.setPlacementReloadCount=function(e){isNaN(e)||(this.placementReloadCount=e)},this.reloadAds=function(e){try{this.geckoTag&&this.reloadedCount<this.placementReloadCount&&(this.reloadedCount++,this.geckoTag.reloadAds(e))}catch(t){console.console.error(t)}},this.setAdReqPath=function(e){adreqpath=!1,this.commandQueue.push({name:"setAdReqPath",param:[e]})},this.getZHeaderBids=function(e,t,o){var n;try{if(this.getHeaderBidRequestConfig()&&(n=this.getHeaderBidRequestConfig()),n){n=JSON.stringify(n);var i="https://"==this.protocol?this.protocol+Config.getProperty("HEADERBIDDER_SECURE_REQUEST_URL"):this.protocol+Config.getProperty("HEADERBIDDER_REQUEST_URL"),s=function(e,t,n,i){o(t)};i=i+""+n,zGeckoUtils.XHRURLHandler.isSupported()?(console.log("Gecko :: XHRURLHandler supported sending request"),zGeckoUtils.XHRURLHandler.get(i,s)):zGeckoUtils.FlashURLHandler.isSupported()?(console.log("Gecko :: FlashURLHandler supported sending request"),zGeckoUtils.FlashURLHandler.get(i,s)):(console.error("Got Error from server"),this.fireHBFailTracker())}else o(!1)}catch(a){console.log("Gecko :: getZHeaderBids failed"+a),this.fireHBFailTracker()}},this.breakOutOfIframe=function(){var e,t=window,o=t.contentDocument||t.document;this.breakOutOfIframeFlag&&C(t)&&(t=c(t).topWindow,o=t.contentDocument||t.document),this.protocol=zGeckoUtils.getProtocol(t)+"//";var n="https://"==this.protocol?this.protocol+Config.getProperty("GECKO_SECURE_FILEPATH"):this.protocol+Config.getProperty("GECKO_FILEPATH");this.checkForLock(o,t)?"undefined"==typeof t.ZdGTag?e=window.setTimeout(this.breakOutOfIframe.bind(this),20):(window.clearTimeout(e),this.afterBreakOutOfIframe()):(this.lockScriptLoading(o,t),zGeckoUtils.loadJsFile(o,t,n,!1,this.afterBreakOutOfIframe.bind(this)))},this.afterBreakOutOfIframe=function(){var e=window,t=e.contentDocument||e.document;this.breakOutOfIframeFlag&&C(e)&&(e=c(e).topWindow,t=e.contentDocument||e.document);var o=function(o){if(o)try{JSON.parse(JSON.stringify(o));this.onGeckoLoad(t,e,o)}catch(n){this.fireHBFailTracker(),console.error("Gecko :: Response have error ")}else this.fireHBFailTracker(),console.error("Gecko :: HeaderBid response failed ")};this.getZHeaderBids(t,e,o.bind(this))};"https://"==this.protocol?Config.getProperty("GEO_COOKIE_SECURE_URL"):Config.getProperty("GEO_COOKIE_URL");this.onGeckoLoad=function(e,t,o){var n=this,i=function(e,o,i,s,a){n.geckoTag=new t.ZdGTag(n.superId,n.network,n.tmy,n.geo,n.charset,n.userDebugToken,n.errorCallback,e,o,i,s,a,enableHeaderBiddingRequest);for(var c=0;c<n.commandQueue.length;c++){var l=n.geckoTag[n.commandQueue[c].name].apply(n.geckoTag,n.commandQueue[c].param);if("addPlacement"===n.commandQueue[c].name){var d=n.commandQueue[c].id;r(l,n.placementMap[d])}}if(n.geckoLoaded=!0,n.placementReadyQueue.length>0)for(var h=0;h<n.placementReadyQueue.length;h++)n.geckoTag.placementReady(n.placementReadyQueue[h].placment)};if(networkIdsLoaded){var s,a,c=function(e,t,o){return(o<<8|t)<<8|e};l(o)?(console.error("Gecko :: hbresponse is blank or undefined"),n.fireHBFailTracker()):(s=JSON.parse(o),s.geo.geo=c(parseInt(s.geo.country,10),parseInt(s.geo.state,10),parseInt(s.geo.metro,10)),a=s.geo,a&&a.country&&(n.disableEUCountries(parseInt(a.country,10))?console.log("Gecko :: placement blocked by geo"):(n.loadCookieSync(),i(s,this.eventDefinition_Ids,this.eventNetwork_Ids,this.milestones,a))))}},this.lockScriptLoading=function(e,t){t.loadingGecko=!0},this.checkForLock=function(e,t){return"undefined"!=typeof t.loadingGecko};var g=function(e){try{return!(!e.document.location||!e.parent.document.location)}catch(t){return!1}},_=function(e){return e.frameElement&&"IFRAME"===e.frameElement.tagName},C=function(e){return!!g(e)&&_(e)},L=function(e){var t,o=0;do try{t=t?t.parent:e,o++}catch(n){}while(t!==e.top&&o<20);return o};this.placementReady=function(e){if(this.breakOutOfIframeFlag&&C(window)){var t=document.getElementById("zdt_"+e),o=c(p);o.topWindow.contentDocument||o.topWindow.document;o.lastParent.frameElement.parentNode.appendChild(t),o.lastParent.frameElement.style.display="none"}this.geckoLoaded?this.geckoTag.placementReady(e):this.placementReadyQueue.push({placment:e})};try{var T="https://"==this.protocol?this.protocol+Config.getProperty("POLYFILL_SECUREFILEPATH"):this.protocol+Config.getProperty("POLYFILL_FILEPATH");if("undefined"==typeof Promise||Promise.toString().indexOf("[native code]")===-1){var U=window,I=U.contentDocument||U.document;this.breakOutOfIframeFlag&&C(U)&&(U=c(U).topWindow,I=U.contentDocument||U.document),zGeckoUtils.loadJsFile(I,U,T,!0,function(){})}}catch(E){console.error(E)}};